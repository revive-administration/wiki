
<h1 class="sectionedit1" id="장_빌드와_테스팅">2장 빌드와 테스팅</h1>
<div class="level1">

</div>
<!-- EDIT1 SECTION "2장 빌드와 테스팅" [1-39] -->
<h2 class="sectionedit2" id="샘플_애플리케이션_소개">샘플 애플리케이션 소개</h2>
<div class="level2">

</div>
<!-- EDIT2 SECTION "샘플 애플리케이션 소개" [40-84] -->
<h3 class="sectionedit3" id="문제_도메인에_익숙해지기">문제 도메인에 익숙해지기</h3>
<div class="level3">

<p>
샘플 애플리케이션의 목적은 프로젝트와 백로그, 스프린트와 스프린트 백로그, 할일, 진행 차트 등의 스크럼 산출물을 관리해 팀을 도와주는 것이다. 이 애플리케이션은 사용자와 프로젝트를 설정하는 관리자 기능도 역시 지원한다.
</p>

</div>
<!-- EDIT3 SECTION "문제 도메인에 익숙해지기" [85-438] -->
<h3 class="sectionedit4" id="기술_스택">기술 스택</h3>
<div class="level3">

</div>
<!-- EDIT4 SECTION "기술 스택" [439-462] -->
<h3 class="sectionedit5" id="영구_저장소">영구 저장소</h3>
<div class="level3">

</div>

<h4 id="몽고_db">몽고 DB</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> 문서는 JSON 스타일의 데이터 형식(바이너리 JSON)</div>
</li>
<li class="level2"><div class="li"> 자바스크립트나 익숙한 JSO 문법으로 데이터 질의와 조작이 가능하다</div>
</li>
<li class="level2"><div class="li"> JSON 형식의 데이터를 REST 엔드포인트로 주고받을 수 있다.</div>
</li>
</ul>

</div>

<h4 id="mongolab">MongoLab</h4>
<div class="level4">

</div>

<h4 id="서버_측_환경">서버 측 환경</h4>
<div class="level4">

<p>
node.js
</p>

</div>

<h4 id="서드파티_자바스크립트_라이브러리">서드파티 자바스크립트 라이브러리</h4>
<div class="level4">

</div>

<h4 id="부트스트랩_css">부트스트랩 CSS</h4>
<div class="level4">

</div>
<!-- EDIT5 SECTION "영구 저장소" [463-895] -->
<h2 class="sectionedit6" id="빌드_시스템">빌드 시스템</h2>
<div class="level2">

<p>
자바스크립트와 css 파일이 운영 서버에 배포되기 전에 여러 번의 검증과 변환 과정을 거치며, 이런 변환 과정에는 다음과 같은 것들이 있다.
</p>
<ul>
<li class="level1"><div class="li"> 자바스크립트 소스코드는 jslint(<a href="http://www.jslint.com/" class="urlextern" title="http://www.jslint.com/"  rel="nofollow">http://www.jslint.com/</a>)나 jshint(<a href="http://www.jshint.com/" class="urlextern" title="http://www.jshint.com/"  rel="nofollow">http://www.jshint.com/</a>) 혹은 비슷한 도구로코딩 표준을 준수하는지 검사해야 한다.</div>
</li>
<li class="level1"><div class="li"> 테스트 스위트를 가능한 한 자주, 최소한 빌드할 때마다 시행해야 한다. 이러한 테스트 도구와 테스트 과정은 빌드 시스템과 반드시 강하게 통합되어야 한다.</div>
</li>
<li class="level1"><div class="li"> 템플릿으로 css 파일을 만드는 LESS 처럼 특정 파일은 생성해야 한다.</div>
</li>
<li class="level1"><div class="li"> 브라우저 성능 향상을 위해 특정 파일을 합치거나 최소화해야 한다.</div>
</li>
</ul>

</div>
<!-- EDIT6 SECTION "빌드 시스템" [896-1699] -->
<h3 class="sectionedit7" id="빌드_시스템_원칙">빌드 시스템 원칙</h3>
<div class="level3">

</div>
<!-- EDIT7 SECTION "빌드 시스템 원칙" [1700-1733] -->
<h3 class="sectionedit8" id="도구">도구</h3>
<div class="level3">

</div>

<h4 id="gruntjs">Grunt.js</h4>
<div class="level4">

<p>
grunt.js를 한 줄로 표현하면 다음과 같다.
</p>
<pre class="code">&quot;자바스크립트 프로젝트를 위한 작업 기반의 커맨드라인 빌드 도구&quot;</pre>

<p>
grunt.js 빌드 스크립트는 자바스크립트로 작성되었으며 node.js 플랫폼에서 실행된다. 샘플 애플리케이션을 빌드하고 시행하는 데 같은 프로그래밍 언어와 같은 플랫폼을 사용할 수 있으니 매우 좋다. 
</p>

</div>

<h4 id="테스트_라이브러리와_도구">테스트 라이브러리와 도구</h4>
<div class="level4">

<p>
AngularJS는 자동화된 테스트를 사용하며 이를 강력히 추천한다. AngularJS로 작성된 코드가 테스트하기 쉬운 이유는 Angular팀이 테스트를 매우 진지하게 생각하고 있기 때문이다. 자세한 것은 Jasmine을 참조하자.
</p>

</div>

<h4 id="jasmine">Jasmine</h4>
<div class="level4">

<p>
Jasmine은 행위주도 개발에 기반을 둔 자바스크립트 테스트 프레임워크이다. AngularJS는 매일 테스트를 수행하고 쉽게 사용할 수 있는 Jasmine 확장 기능과 다양한 목(mock) 객체도 구현했다.
</p>

</div>

<h4 id="karma_실행기">Karma 실행기</h4>
<div class="level4">

<p>
Karma 실행기를 사용하면 자바스크립트 테스트를 쉽게 수행할 수 있다. Karma 실행기는 자바스크립트와 node.js 기반의 JS TestDriver라는 유명한 테스트 실행기를 대체하기 위해 만들어졌다. Karma 실행기는 실행 중인 브라우저 인스턴스에 소스와 테스트 코드를 적용해 테스트를 실행하고 각 테스트 결과를 모은 후 보고서로 만들어진다. 즉, 테스트를 실행하기 위해 실제 브라우저를 사용한다. 
</p>

</div>
<!-- EDIT8 SECTION "도구" [1734-3291] -->
<h2 class="sectionedit9" id="파일과_폴더_구조">파일과 폴더 구조</h2>
<div class="level2">

</div>
<!-- EDIT9 SECTION "파일과 폴더 구조" [3292-3327] -->
<h3 class="sectionedit10" id="루트_폴더">루트 폴더</h3>
<div class="level3">

<p>
다음은 고수준의 디렉토리 구조를 만드는 기본적인 가정이다.
</p>
<ul>
<li class="level1"><div class="li"> 애플리케이션 소스코드에 연관된 테스트 코드는 반드시 분리해야 한다. 보통 소스코드와 테스트 코드를 빌드하기 위한 여러 빌드 작업이 있기 때문에 이를 분리함으로써 빌드 시스템을 좀 더 쉽게 유지 보수할 수 있다.</div>
</li>
<li class="level1"><div class="li"> 내부 코드와 외부 라이브러리는 반드시 분리해야 한다. 외부 라이브러리는 우리가 제품을 배포하는 것과 다른 주기로 변경될 수 있기 때문에 외부 라이브러리를 언제든 쉽게 변경할 수 있어야 한다. 내부 소스와 섞여 있으면 외부 라이브러리를 변경하는 작업이 힘들고 시간을 많이 소비하는 일이 된다.</div>
</li>
<li class="level1"><div class="li"> 빌드 관련 스크립트는 소스코드와 섞이지 않게 따로 분리해야 한다.</div>
</li>
<li class="level1"><div class="li"> 빌드 산출물은 별개의 폴더에 저장해야 한다. 그리고 빌드 결과의 산출물과 구조는 실제 운영 서버에 배포할 수 있는 형태와 동일해야 한다. 단순히 빌드 산출물을 가져다가 배포하기만 하면 되도록 배포 과정이 쉬워야 하기 때문이다.</div>
</li>
<li class="level1"><div class="li"> 기본 가정들을 조합해 나온 최상위 디렉토리</div>
<ul>
<li class="level2"><div class="li"> src : 애플리케이션의 소스코드</div>
</li>
<li class="level2"><div class="li"> test : 테스트 코드</div>
</li>
<li class="level2"><div class="li"> vendor : 외부 라이브러리</div>
</li>
<li class="level2"><div class="li"> build : 빌드 스크립트</div>
</li>
<li class="level2"><div class="li"> dist : 바로 배포 가능한 빌드 산출물</div>
</li>
<li class="level2"><div class="li"> .gitignore</div>
</li>
<li class="level2"><div class="li"> LICENSE : MIT 라이센스 약관</div>
</li>
<li class="level2"><div class="li"> grunt.js : 빌드 환경 설정 파일</div>
</li>
<li class="level2"><div class="li"> package.json : node.js 애플리케이션의 패키지 정보</div>
</li>
</ul>
</li>
</ul>

</div>
<!-- EDIT10 SECTION "루트 폴더" [3328-4980] -->
<h3 class="sectionedit11" id="소스코드_내부">소스코드 내부</h3>
<div class="level3">

</div>
<!-- EDIT11 SECTION "소스코드 내부" [4981-] -->